<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="charset=UTF-8"/>

<link rel="stylesheet" type="text/css" href="css/addAlarm.css">


</head>
<body>



<div id="screen1">
	<div id="head"><p id="info">添加闹钟</p></div>
	<div id="timeSet">
		<div id="hoursSet">
			
			<div id="hoursBox">
			<div><p align="center">0</p></div>
			<div><p align="center">1</p></div>
			<div><p align="center">2</p></div>
			<div><p align="center">3</p></div>
			<div><p align="center">4</p></div>
			<div><p align="center">5</p></div>
			<div><p align="center">6</p></div>
			<div><p align="center">7</p></div>
			<div><p align="center">8</p></div>
			<div><p align="center">9</p></div>
			<div><p align="center">10</p></div>
			<div><p align="center">11</p></div>
			<div><p align="center">12</p></div>
			<div><p align="center">13</p></div>
			<div><p align="center">14</p></div>
			<div><p align="center">15</p></div>
			<div><p align="center">16</p></div>
			<div><p align="center">17</p></div>
			<div><p align="center">18</p></div>
			<div><p align="center">19</p></div>
			<div><p align="center">20</p></div>
			<div><p align="center">21</p></div>
			<div><p align="center">22</p></div>
			<div><p align="center">23</p></div>
			<div><p align="center">0</p></div>
			<div><p align="center">1</p></div>
			</div>
		</div>
		<div id="minutesSet">
			<div id="minutesBox">
			<div><p align="center">0</p></div>
			<div><p align="center">1</p></div>
			<div><p align="center">2</p></div>
			<div><p align="center">3</p></div>
			<div><p align="center">4</p></div>
			<div><p align="center">5</p></div>
			<div><p align="center">6</p></div>
			<div><p align="center">7</p></div>
			<div><p align="center">8</p></div>
			<div><p align="center">9</p></div>
			<div><p align="center">10</p></div>
			<div><p align="center">11</p></div>
			<div><p align="center">12</p></div>
			<div><p align="center">13</p></div>
			<div><p align="center">14</p></div>
			<div><p align="center">15</p></div>
			<div><p align="center">16</p></div>
			<div><p align="center">17</p></div>
			<div><p align="center">18</p></div>
			<div><p align="center">19</p></div>
			<div><p align="center">20</p></div>
			<div><p align="center">21</p></div>
			<div><p align="center">22</p></div>
			<div><p align="center">23</p></div>
			<div><p align="center">24</p></div>
			<div><p align="center">25</p></div>
			<div><p align="center">26</p></div>
			<div><p align="center">27</p></div>
			<div><p align="center">28</p></div>
			<div><p align="center">29</p></div>
			<div><p align="center">30</p></div>
			<div><p align="center">31</p></div>
			<div><p align="center">32</p></div>
			<div><p align="center">33</p></div>
			<div><p align="center">34</p></div>
			<div><p align="center">35</p></div>
			<div><p align="center">36</p></div>
			<div><p align="center">37</p></div>
			<div><p align="center">38</p></div>
			<div><p align="center">39</p></div>
			<div><p align="center">40</p></div>
			<div><p align="center">41</p></div>
			<div><p align="center">42</p></div>
			<div><p align="center">43</p></div>
			<div><p align="center">44</p></div>
			<div><p align="center">45</p></div>
			<div><p align="center">46</p></div>
			<div><p align="center">47</p></div>
			<div><p align="center">48</p></div>
			<div><p align="center">49</p></div>
			<div><p align="center">50</p></div>
			<div><p align="center">51</p></div>
			<div><p align="center">52</p></div>
			<div><p align="center">53</p></div>
			<div><p align="center">54</p></div>
			<div><p align="center">55</p></div>
			<div><p align="center">56</p></div>
			<div><p align="center">57</p></div>
			<div><p align="center">58</p></div>
			<div><p align="center">59</p></div>
			<div><p align="center">0</p></div>
			<div><p align="center">1</p></div>
			
		</div>
		</div>
		<div id="fixed" ><p align="center">时</p><p align="center">分</p></div>
	</div>
	<div id="selection">
		<table cellspacing="0">
			<tr>
				<td>重复</td>
				<td>
				<div class="datePick" onclick="repeatDate(this,0)">日</div>
				<div class="datePick" onclick="repeatDate(this,1)">一</div>
				<div class="datePick" onclick="repeatDate(this,2)">二</div>
				<div class="datePick" onclick="repeatDate(this,3)">三</div>
				<div class="datePick" onclick="repeatDate(this,4)">四</div>
				<div class="datePick" onclick="repeatDate(this,5)">五</div>
				<div class="datePick" onclick="repeatDate(this,6)">六</div>
				</td>
			</tr>
			<tr>
				<td></td>
				<td><div></div></td>
			</tr>



		</table>

	</div>
	<div id="bottom" align="center"><a onclick="confirm();" href="myClock.html">确定</a></div>
</div>
<script type="text/javascript" src="js/time/timeCaculate.js"></script>
<script type="text/javascript" src="js/passData.js"></script>
<script type="text/javascript" src="js/addAlarm.js"></script>
<script type="text/javascript">


	function init(){
	

	index = getNum();
		
	if(index == -1){//新建闹钟
		mFlag=0;hFlag = 0;
		dateFlag = [0,0,0,0,0,0,0];//全局变量
	}
	else{//已有闹钟点进来
		document.getElementById("info").innerHTML = "编辑闹钟";
		var data = getData();
		var dateFlagTmp = data["dateFlag"].split(" ")[index];//得到字符串
		dateFlag = dateFlagTmp.split(",");//得到字符串数组,长度为7
		hFlag = parseInt(data["hFlag"].split(",")[index]);
		mFlag = parseInt(data["mFlag"].split(",")[index]);
		
		/*设置显示时间*/
		var hoursEle = document.getElementById("hoursBox");
		var minutesEle = document.getElementById("minutesBox");
		hoursEle.style.webkitTransform = "translateY(-"+hFlag*60+"px)";
		minutesEle.style.webkitTransform = "translateY(-"+mFlag*60+"px)";
		/*设置显示选择日期*/
		var datePickEles = document.getElementsByClassName("datePick");
		for(var i = 0;i<7;i++){
			if(dateFlag[i] == 1){
				datePickEles[i].style.color = "#fff";
				datePickEles[i].style.backgroundColor = "#D1762E";
				datePickEles[i].style.border = "none";
			}
		}

	}
	


	}

	init();
</script>

	
	
</script>
</body>
</html>